<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="stylesheets/products.css">
    <link href="https://fonts.googleapis.com/css2?family=Passions+Conflict&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://fonts.google.com/specimen/Playfair+Display">
    <title>Our Products | Collective Candle Co.</title>
</head>
<body>

<!--  HEADER  -->
    <header>
        <img src="images/logo/logo-stacked.png" alt="Collective Candle Co." id="logo">
        <nav>
            <ul>
                <li><a href="index.html">HOME</a></li>
                <li><a href="#">OUR PRODUCTS</a></li>
                <li><a href="contact.html">CONTACT US</a></li>
                <li class="social-container"><a href="https://facebook.com"><img src="images/facebook.png" alt="Facebook logo" class="social-icon"></a>
                    <a href="https://instagram.com"><img src="images/instagram.png" alt="Instagram logo" class="social-icon"></a>
                    <a href="https://twitter.com"><img src="images/twitter.png" alt="Twitter logo" class="social-icon"></a>
                    </li>
            </ul>
        </nav>
    </header>

<!-- BODY -->    
    <main>
        <h1>Shop Our Products</h1>
        <section class="products-container"> 
            <!-- where the products/json objects will populate -->
        </section>
    </main>

<!-- FOOTER -->
    <footer>
        <nav>
            <ul>
                <li><a href="index.html">HOME</a></li>
                <li><a href="#">OUR PRODUCTS</a></li>
                <li><a href="contact.html">CONTACT US</a></li>
                <li class="social-container"><a href="https://facebook.com"><img src="images/facebook.png" alt="Facebook logo" class="social-icon"></a>
                    <a href="https://instagram.com"><img src="images/instagram.png" alt="Instagram logo" class="social-icon"></a>
                    <a href="https://twitter.com"><img src="images/twitter.png" alt="Twitter logo" class="social-icon"></a>
                    </li>
            </ul>
        </nav>
        <img src="images/logo/logo-playfair-display.png" alt="Collective Candle Co." id="footer-logo">
        <span id="copyright">&copy; 2022 All Rights Reserved</span>
    </footer>

<!---------------------------------------------------------------->
<!--                  JAVASCRIPT & JSON FETCH                   -->
<!---------------------------------------------------------------->

    <script>

        fetch("products.json")
            .then((response) => response.json()) // parses the response
            .then((data) => {
                let inventory = ""; // set inventory to an empty string
                data.Products.forEach(Product => { // use "for each" to go through each object and use template literals to insert the product info below
                    inventory += `<div id="container-${Product.productid}">
                        <img src="${Product.image}" alt="candle" class="product" id="${Product.productid}">
                        <p class="name">${Product.name}</p>
                        <p class="price">$${Product.price}</p>
                        <p class="description">${Product.description}</p>
                        <button>Add to cart</button>
                    </div>
                    ` // adding html as one big string to inventory variable and filling in blanks from json using template literals
                })
                console.log(inventory); // to see what we're getting back/if it's working
                document.querySelector('section').innerHTML = inventory; // puts the above string into the designated section for each product
            })
            .catch((err) => console.log(err)); 

    </script>
</body>
</html>